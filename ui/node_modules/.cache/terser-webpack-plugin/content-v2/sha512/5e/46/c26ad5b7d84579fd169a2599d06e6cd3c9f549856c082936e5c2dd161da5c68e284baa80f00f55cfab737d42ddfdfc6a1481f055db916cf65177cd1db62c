{"code":"!function(e){var t={};function a(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,\"a\",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p=\"\",a(a.s=0)}([function(e,t){class a extends React.Component{constructor(){super(),this.state={products:[]},this.createProduct=this.createProduct.bind(this)}componentDidMount(){this.loadData()}async loadData(){const e=await fetch(window.ENV.UI_API_ENDPOINT,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({query:\"query{\\n            productList {\\n                id category name price image\\n            }\\n        }\"})}),t=await e.json();this.setState({products:t.data.productList})}async createProduct(e){await fetch(window.ENV.UI_API_ENDPOINT,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({query:\"mutation addProduct($product: ProductInputs!){\\n            addProduct(product: $product){\\n                id\\n            }\\n        }\",variables:{product:e}})})&&this.loadData()}render(){const{products:e}=this.state;return React.createElement(React.Fragment,null,React.createElement(\"h1\",null,\"My Company Inventory\"),React.createElement(n,{products:e}),React.createElement(\"br\",null),React.createElement(c,{createProduct:this.createProduct}))}}function n(e){const t=e.products.map((e,t)=>React.createElement(r,{key:t,product:e}));return React.createElement(\"div\",null,React.createElement(\"p\",null,\"Showing all available products\"),React.createElement(\"hr\",null),React.createElement(\"table\",{className:\"bordered-table\"},React.createElement(\"thead\",null,React.createElement(\"tr\",null,React.createElement(\"th\",null,\"Product Name\"),React.createElement(\"th\",null,\"Price\"),React.createElement(\"th\",null,\"Category\"),React.createElement(\"th\",null,\"Image\"))),React.createElement(\"tbody\",null,t)))}function r({product:e}){return React.createElement(\"tr\",null,React.createElement(\"td\",null,e.name),React.createElement(\"td\",null,\"$\",e.price),React.createElement(\"td\",null,e.category),React.createElement(\"td\",null,React.createElement(\"a\",{href:e.image,target:\"_blank\"},\"View\")))}class c extends React.Component{constructor(){super(),this.handleSubmit=this.handleSubmit.bind(this),this.state={price:\"$\"},this.handlepriceChange=this.handlepriceChange.bind(this)}handleSubmit(e){e.preventDefault();const t=document.forms.productAdd,a={category:t.category.value,price:t.price.value.replace(\"$\",\"\"),name:t.name.value,image:t.image.value};this.props.createProduct(a),t.price.value=\"$\",t.name.value=\"\",t.image.value=\"\",t.category.value=\"\"}handlepriceChange(){this.setState({price:document.forms.productAdd.price.value})}render(){return React.createElement(React.Fragment,null,React.createElement(\"p\",null,\"Add a new product to inventory\"),React.createElement(\"hr\",null),React.createElement(\"form\",{name:\"productAdd\",onSubmit:this.handleSubmit},React.createElement(\"div\",{className:\"form-container\"},React.createElement(\"div\",{className:\"form-col\"},\"Category\",React.createElement(\"br\",null),React.createElement(\"select\",{name:\"category\",className:\"category\"},React.createElement(\"option\",{value:\"Shirts\"},\"Shirts\"),React.createElement(\"option\",{value:\"Jeans\"},\"Jeans\"),React.createElement(\"option\",{value:\"Jackets\"},\"Jackets\"),React.createElement(\"option\",{value:\"Sweaters\"},\"Sweaters\"),React.createElement(\"option\",{value:\"Accessories\"},\"Accessories\")),React.createElement(\"br\",null),\"Product Name\",React.createElement(\"br\",null),React.createElement(\"input\",{type:\"text\",name:\"name\"})),React.createElement(\"div\",{className:\"form-col\"},\"Price Per Unit\",\" \",React.createElement(\"br\",null),React.createElement(\"input\",{type:\"text\",name:\"price\",defaultValue:this.state.price,onChange:this.handlepriceChange}),React.createElement(\"br\",null),\"Image URL\",React.createElement(\"br\",null),React.createElement(\"input\",{type:\"url\",name:\"image\"}))),React.createElement(\"button\",{type:\"submit\"},\"Add Product\")))}}c.propTypes={createProduct:PropTypes.func.isRequired};const l=React.createElement(a,null);ReactDOM.render(l,document.getElementById(\"contents\"))}]);","extractedComments":[]}